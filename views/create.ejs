<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/ARNG.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Create Survey</title>
    <style>
      .form-group {
        margin:10px;
      }

      .content
      {
        max-width: 1000px;
        margin: auto;
        margin-top: 20px;
      }
      body {
        padding-bottom: 20px;
      }

    </style>
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
<%- include('header') %>
<%- include("appmsg") %>

<div class="content">
    <div class="row mb-3" style="padding-top: 10px">
        <div class="col-12 text-center">
          <h1 style="text-decoration: underline;">Assessment Information</h1>
        </div>
      </div>

  <form method="post" action="/create">
    <div class="form-group">
      <label for="title">Title:</label>
      <input type="text" class="form-control" id="title" name="title" required>
    </div>
    <div class="form-group">
      <label for="description">Description:</label>
      <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
    </div>
    <div class="form-group row">
        <div class="col-sm-4">
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="secure" name="secure" onchange="togglePasswordInput()">
            <label class="form-check-label" for="secure">Require Password</label>
          </div>
        </div> 
        <div class="col-sm-4">
            <div class="form-check">
              <input type="checkbox" class="form-check-input" id="show_question_numbers" name="show_question_numbers">
              <label class="form-check-label" for="show_question_numbers">Show Question Numbers</label>
            </div>
          </div>
          <div class="col-sm-4">
            <div class="form-check">
              <input type="checkbox" class="form-check-input" id="grade_by_points" name="grade_by_points">
              <label class="form-check-label" for="grade_by_points">Grade by Points</label>
            </div>
          </div>
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" class="form-control" id="password" name="password" disabled>
      </div>


    <div class="form-group">
        <label for="question_type">Question Type:</label>
        <select class="form-control" id="question_type" name="question_type" onchange="toggleQuestionFields()">
          <option value="checkbox">Checkbox</option>
          <option value="multiple_choice">Multiple Choice</option>
          <option value="text">Text</option>
          <option value="number_range">Number Range</option>
        </select>
      </div>
      <div id="checkbox_fields" style="display: none;">
        <div class="form-group">
          <label for="checkbox_question">Checkbox Question:</label>
          <input type="text" class="form-control" id="checkbox_question" name="checkbox_question">
        </div>
        <div class="form-group">
          <label for="checkbox_options">Checkbox Options:</label>
          <textarea class="form-control" id="checkbox_options" name="checkbox_options" rows="3"></textarea>
        </div>
      </div>
      <div id="multiple_choice_fields" style="display: none;">
        <div class="form-group">
          <label for="multiple_choice_question">Multiple Choice Question:</label>
          <input type="text" class="form-control" id="multiple_choice_question" name="multiple_choice_question">
        </div>
        <div class="form-group">
          <label for="multiple_choice_options">Multiple Choice Options:</label>
          <textarea class="form-control" id="multiple_choice_options" name="multiple_choice_options" rows="3"></textarea>
        </div>
      </div>
      <div id="text_fields" style="display: none;">
        <div class="form-group">
          <label for="text_question">Text Question:</label>
          <input type="text" class="form-control" id="text_question" name="text_question">
        </div>
      </div>
      <div id="number_range_fields" style="display: none;">
        <div class="form-group">
          <label for="number_range_question">Number Range Question:</label>
          <input type="text" class="form-control" id="number_range_question" name="number_range_question">
        </div>
        <div class="form-group">
          <label for="number_range_min">Minimum Value:</label>
          <input type="number" class="form-control" id="number_range_min" name="number_range_min">
        </div>
        <div class="form-group">
          <label for="number_range_max">Maximum Value:</label>
          <input type="number" class="form-control" id="number_range_max" name="number_range_max">
        </div>
      </div>


    <div class="row mb-3" style="padding-top: 10px">
      <div class="col-12 text-center">
        <input type="submit" value="Submit" class="btn btn-warning" />
      </div>
    </div>
  </form>

</div>

<script>
  function togglePasswordInput() {
    var passwordInput = document.getElementById("password");
    var secureCheckbox = document.getElementById("secure");
    passwordInput.disabled = !secureCheckbox.checked;
  }

  function toggleQuestionFields() {
    var questionType = document.getElementById("question_type").value;
    var checkboxFields = document.getElementById("checkbox_fields");
    var multipleChoiceFields = document.getElementById("multiple_choice_fields");
    var textFields = document.getElementById("text_fields");
    var numberRangeFields = document.getElementById("number_range_fields");

    checkboxFields.style.display = "none";
    multipleChoiceFields.style.display = "none";
    textFields.style.display = "none";
    numberRangeFields.style.display = "none";

    if (questionType === "checkbox") {
      checkboxFields.style.display = "block";
    } else if (questionType === "multiple_choice") {
      multipleChoiceFields.style.display = "block";
    } else if (questionType === "text") {
      textFields.style.display = "block";
    } else if (questionType === "number_range") {
      numberRangeFields.style.display = "block";
    }
  }
</script>